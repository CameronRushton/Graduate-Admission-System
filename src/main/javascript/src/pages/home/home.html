<template>
  <header scroll_position.bind="scrollTop" scroll_fn.bind="scrollFn"></header>
  <section class="container">
    <div if.bind="!isAdmin" class="row">

      <div class="col-md-8">
        <div class="row">
          <div class="col-md-12">
            <div class="panel">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-12">
                    <h1 class="accordion-title">My Areas of Interest</h1>
                  </div>
                </div>
              </div>
              <div class="list-group">
                <div class="accordion">

                  <div if.bind="currentUser.interests.length > 0" repeat.for="interest of currentUser.interests" class="card">
                    <div class="card-header clickable grey-hover" click.trigger="interest.collapse = !interest.collapse">
                      <h2 class="mb-0">
                        <div class="interest-name">
                          ${interest.keyword}
                        </div>
                      </h2>
                    </div>
                    <div show.bind="interest.collapse">
                      <div if.bind="interest.description" class="card-body">
                        ${interest.description}
                      </div>
                      <div else class="pt-3 pb-3 pl-3">
                        No description available.
                      </div>
                    </div>
                  </div>

                  <div else class="card">
                    <a route-href="route: profile">
                      <div class="card-header clickable grey-hover">
                        <h2 class="mb-0">
                          <div class="centered-interest-name">
                            <span class="glyphicon glyphicon-plus plus light-grey"></span>
                          </div>
                        </h2>
                      </div>
                    </a>
                  </div>    
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="row">
          <div class="col-md-12">
            <div class="panel">
              <div class="list-group">
                <div>
                  <div class="cu-card profile">
                    <a>
                      <div class="card-head">
                        <div class="cu-card-details">
                          <h4>
                            ${currentUser.firstName} ${currentUser.lastName}
                          </h4>
                          <button type="button" class="btn btn-red" click.delegate="navigateToRoute('profile')">Edit Interests</button>
                        </div>
                      </div>
                    </a>
                  </div>
                  <div class="list-group-links">
                    <div class="cu-card-grid_top">
                      <a class="cu-card-grid clickable grey-hover" href="https://housing.carleton.ca/" target="_blank">
                        <div class="cu-card-grid_content">
                          <div class="grid-text">Residence</div>
                          <span class="grid-icon glyphicon glyphicon-new-window"></span>
                        </div>
                      </a>
                      <a class="cu-card-grid clickable grey-hover" href="https://graduate.carleton.ca/financial-assistance/cost-and-fees/" target="_blank">
                        <div class="cu-card-grid_content">
                          <div class="grid-text">Costs & Scholarships</div>
                          <span class="grid-icon glyphicon glyphicon-new-window"></span>
                        </div>
                      </a>
                    </div>
                    <a class="cu-card-grid clickable grey-hover" href="https://carleton.ca/co-op/" target="_blank">
                      <div class="cu-card-grid_content">
                        <div class="grid-text">Co-op</div>
                        <span class="grid-icon glyphicon glyphicon-new-window"></span>
                      </div>
                    </a>
                    <a class="cu-card-grid clickable grey-hover" href="http://athletics.carleton.ca/" target="_blank">
                      <div class="cu-card-grid_content">
                        <div class="grid-text">Athletics</div>
                        <span class="grid-icon glyphicon glyphicon-new-window"></span>
                      </div>
                    </a>
                  </div>
                </div>

              </div>
            </div>
            <div if.bind="!isProf" class="panel">
              <div class="tiled-container">
                <a class="how-to-apply" href="https://graduate.carleton.ca/apply-online/" target="_blank">
                  <span class="glyphicon glyphicon-send send-icon"></span>
                  <div class="apply-text">HOW TO APPLY</div>
                </a>
              </div>
            </div>
            <div if.bind="!isProf" class="panel">
              <div class="tiled-container">
                <a class="how-to-apply" route-href="route: home" target="_blank">
                  <span class="glyphicon glyphicon-list-alt send-icon"></span>
                  <div class="apply-text">APPLY NOW</div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div else>
      <div class="row">
        
        <div class="col-md-6">
          <div class="panel">
            <div class="tiled-container">
              <a class="how-to-apply" route-href="route: update user">
                <span class="glyphicon glyphicon-user send-icon"></span>
                <div class="apply-text">EDIT USERS</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="panel">
            <div class="tiled-container">
              <a class="how-to-apply" route-href="route: update term">
                <span class="glyphicon glyphicon-calendar send-icon"></span>
                <div class="apply-text">EDIT TERMS</div>
              </a>
            </div>
          </div>
        </div>
		  <div class="col-md-6">
			  <div class="panel">
				  <div class="tiled-container">
					  <a class="how-to-apply" route-href="route: view roles">
						  <span class="glyphicon glyphicon-briefcase send-icon"></span>
						  <div class="apply-text">VIEW ROLES</div>
					  </a>
				  </div>
			  </div>
		  </div>
		  <div class="col-md-6">
			  <div class="panel">
				  <div class="tiled-container">
					  <a class="how-to-apply" route-href="route: add privilege">
						  <span class="glyphicon glyphicon-ok-circle send-icon"></span>
						  <div class="apply-text">CREATE PRIVILEGES</div>
					  </a>
				  </div>
			  </div>
		  </div>
		  <div class="col-md-6">
			  <div class="panel">
				  <div class="tiled-container">
					  <a class="how-to-apply" route-href="route: view interests">
						  <span class="glyphicon glyphicon-heart send-icon"></span>
						  <div class="apply-text">EDIT INTERESTS</div>
					  </a>
				  </div>
			  </div>
		  </div>

      </div>
    </div>

  </section>
</template>
